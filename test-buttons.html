<!DOCTYPE html>
<html>
<head>
    <title>Button Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ccc; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>ğŸ§ª Inventory Management Button Test</h1>
    
    <div class="test-section">
        <h3>Test Functions</h3>
        <button onclick="testAll()">ğŸ§ª Test All Functions</button>
        <button onclick="testDelete()">ğŸ—‘ï¸ Test Delete</button>
        <button onclick="testStock()">ğŸ“¦ Test Stock</button>
        <button onclick="testLogout()">ğŸšª Test Logout</button>
    </div>

    <div class="test-section">
        <h3>Test API</h3>
        <button onclick="testAPI()">ğŸ”— Test API Connection</button>
        <div id="api-result"></div>
    </div>

    <div class="test-section">
        <h3>Test Product Operations</h3>
        <button onclick="testAddStock()">â• Test Add Stock</button>
        <button onclick="testSubtractStock()">â– Test Subtract Stock</button>
        <button onclick="testDeleteProduct()">ğŸ—‘ï¸ Test Delete Product</button>
    </div>

    <script>
        function testAll() {
            console.log('ğŸ§ª Running comprehensive test...');
            testInventory();
            testDelete();
            testStock();
            testLogout();
        }

        function testDelete() {
            console.log('ğŸ—‘ï¸ Testing delete function...');
            if (window.app && window.app.deleteProduct) {
                console.log('âœ… Delete function available');
                alert('âœ… Delete function is working!');
            } else {
                console.error('âŒ Delete function not available');
                alert('âŒ Delete function not available');
            }
        }

        function testStock() {
            console.log('ğŸ“¦ Testing stock adjustment...');
            if (window.app && window.app.adjustStock) {
                console.log('âœ… Stock adjustment function available');
                alert('âœ… Stock adjustment function is working!');
            } else {
                console.error('âŒ Stock adjustment function not available');
                alert('âŒ Stock adjustment function not available');
            }
        }

        function testLogout() {
            console.log('ğŸšª Testing logout function...');
            if (window.logout) {
                console.log('âœ… Logout function available');
                alert('âœ… Logout function is working!');
            } else {
                console.error('âŒ Logout function not available');
                alert('âŒ Logout function not available');
            }
        }

        function testAPI() {
            console.log('ğŸ”— Testing API connection...');
            fetch('/api/products')
                .then(response => response.json())
                .then(data => {
                    console.log('âœ… API working. Products:', data.length);
                    document.getElementById('api-result').innerHTML = 
                        '<div class="success">âœ… API Working - ' + data.length + ' products found</div>';
                })
                .catch(error => {
                    console.error('âŒ API failed:', error);
                    document.getElementById('api-result').innerHTML = 
                        '<div class="error">âŒ API Failed: ' + error.message + '</div>';
                });
        }

        function testAddStock() {
            if (window.app && window.app.adjustStock) {
                window.app.adjustStock(1, 'add');
            } else {
                alert('âŒ Stock function not available');
            }
        }

        function testSubtractStock() {
            if (window.app && window.app.adjustStock) {
                window.app.adjustStock(1, 'subtract');
            } else {
                alert('âŒ Stock function not available');
            }
        }

        function testDeleteProduct() {
            if (window.app && window.app.deleteProduct) {
                window.app.deleteProduct(5, 'Test Product');
            } else {
                alert('âŒ Delete function not available');
            }
        }
    </script>
</body>
</html>
